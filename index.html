<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dear Tiwi !</title>
    <meta name="description" content="A new message for u !">
    <meta property="og:title" content="Dear Tiwi !" />
    <meta property="og:description" content="A new message for u !" />
    <meta property="og:image" content="/images/tiwi+bg.png" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
        integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Montserrat:wght@200;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@10.12.5/dist/sweetalert2.min.css">
    <link rel="stylesheet" href="style.css">

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.12.5/dist/sweetalert2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.js"></script>
    <script src="https://cdn.jsdelivr.net/es6-promise/latest/es6-promise.auto.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js"></script>
    <script>
        function setVisible(selector, visible) {
            document.querySelector(selector).style.display = visible ? 'block' : 'none';
        }

        function onReady(callback) {
            var intervalId = window.setInterval(function () {
                if (document.getElementsByTagName('body')[0] !== undefined) {
                    window.clearInterval(intervalId);
                    callback.call(this);
                }
            }, 1500);
        }

        onReady(function () {
            Swal.fire({
                text: 'Apakah kamu adalah orang ini ?',
                // icon:'question',
                // title:'Hi',
                showDenyButton: true,
                imageUrl: '/images/tiwi.jpg',
                imageAlt: 'Pratiwi Hapsari Dewi',
                position:'top',
                confirmButtonText: `Iya, itu aku.`,
                denyButtonText: `Nope, salah orang`
            }).then((answer) => {
                if (answer.isConfirmed) {
                    Swal.fire({
                        text: 'Apakah hari ini tanggal 27 Desember ?',
                        showDenyButton: true,
                        confirmButtonText: `Itu hari ini.`,
                        denyButtonText: `Ngga, itu hari lain.`,
                        position:'top',
                        icon: 'question'
                    }).then((answer) => {
                        if (answer.isConfirmed) {
                            let today = new Date();
                            let month = 0 + today.getMonth();
                            let date = today.getDate();
                            if (month == 11 && date == 27) {
                                setVisible('.page', true)
                                setVisible('#loading', false);
                                typedTrigger()
                                Swal.fire({
                                    icon: 'success',
                                    title: 'Ini pesan untukmu',
                                    position: 'top'
                                }).then(() => {
                                    $('.title').addClass('animate__animated animate__fadeInDown');
                                    $('.subtitle').addClass('animate__animated animate__fadeInDown');
                                })
                            } else {
                                Swal.fire({
                                    icon: 'error',
                                    title: 'Kamu Bohong !',
                                    text: 'Ini bukan tanggal 27 Desember',
                                    position:'top',
                                }).then(() => {
                                    window.location.href = "https://dapurkode.com";
                                })
                            }
                        } else {
                            Swal.fire({
                                icon: 'error',
                                title: 'Hmm.. Sayang sekali',
                                text: 'Coba lagi lain waktu.',
                                position:'top',
                            }).then(() => {
                                window.location.href = "https://dapurkode.com";
                            })
                        }
                    })
                } else {
                    Swal.fire({
                        icon: 'error',
                        title: 'Oops...',
                        text: 'Maaf salah orang'
                    }).then(() => {
                        window.location.href = "https://dapurkode.com";
                    })
                }
            })
        })

        function typedTrigger() {
            // Flag to execute the function only once
            let typeTextStarted = false;

            // Get the section<s position in the document
            let mysectionPosition = $("#forth").offset();

            let marker = mysectionPosition.top;

            $('body').scroll(function () {
                if ($(this).scrollTop() > marker && !typeTextStarted) {
                    var typed = new Typed('#typed-quote', {
                        strings: [
                            '"Terima kasih sudah hadir, dan memberi warna dalam hidup ini. Semoga kamu selalu sehat, tambah bijak dalam mengambil sikap dan berbahagia selalu."<br><br>Your love - <b>Papoy</b>'
                        ],
                        typeSpeed: 60,
                        fadeOut: true
                    })
                    // Set flag
                    typeTextStarted = true;
                }
            })
        }
    </script>
</head>

<body>
    <div id="loading"></div>
    <div class="page">
        <section id="first">
            <div class="content-center text-center">
                <h1 class="title">Dear.</h1>
                <p class="subtitle">Pratiwi</p>
            </div>
        </section>
        <section id="second" class="text-left">
            <h2 class="big-text">HAPPY<br>BIRTH<br>DAY<br>TO</h2>
        </section>
        <section id="third">
            <h1 class="big-text-second blink">YOU.</h1>
        </section>
        <section id="forth" class="wrapper head">
            <h2 class="big-text-third">STAY<br>HUMBLE<br>STAY<br>KIND</h2>
            <video preload="auto" autoplay="true" loop="loop" muted="muted" volume="0" id="videobcg"
                poster="images/berdua.jpg">
                <source src="videos/720p.mp4" type="video/mp4">
            </video>
        </section>
        <section id="fifth">
            <p class="quote" id="typed-quote"></p>
        </section>
    </div>
</body>

</html>